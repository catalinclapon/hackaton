<?xml version="1.0" encoding="utf-8"?>
<databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">
    <!--
        Changed entity MedicalCase.
    -->
    <changeSet id="change patient id with patient cnp in medical case table" author="toti">

        <dropForeignKeyConstraint baseTableName="medical_case"
                                  constraintName="fk_medical_case_patient_id"/>
        <dropColumn columnName="patient_id"
                    schemaName="hackaton"
                    tableName="medical_case"/>

        <addColumn tableName="medical_case">
            <column name="patient_cnp" type="varchar(13)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>

</databaseChangeLog>

